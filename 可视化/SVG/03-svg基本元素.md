# 基本图形元素

SVG 提供了矩形、圆形、椭圆、直线、折线、多边形等基本图形元素，这些基本元素允许你绘制基本形状

## 矩形

在 SVG 中，我们可以使用 <rect> 元素创建一个矩形（长方形或正方形）：

```xml
<svg viewBox="0 0 800 600">
    <rect x="100" y="100" width="400" height="300" fill="#DB7092" stroke="#B82E5A" stroke-width="10" />
</svg>

```
属性包括：
- x 和 y 设置了矩形的左上角在用户坐标系中的位置，其中 x 表示左上角水平位置，y 表示左上角的垂直位置
- width 和 height 设置矩形的尺寸，其中 width 表示矩形的宽度，height 表示矩形的高度
<rect> 元素还提供了两个可选属性 rx 和 ry ：

- rx 定义了水平圆角半径
- ry 定义了垂直圆角半径

如果这两个属性设置了一个，那么另一个属性将取相同的值：
```xml
<svg viewBox="0 0 800 600">
    <rect x="100" y="100" width="400" height="300" rx="10" fill="#DB7092" stroke="#B82E5A" stroke-width="10" />
</svg>

<!-- 或者 -->
<svg viewBox="0 0 800 600">
    <rect x="100" y="100" width="400" height="300" ry="10" fill="#DB7092" stroke="#B82E5A" stroke-width="10" />
</svg>

```
如果使用 <rect> 绘制的矩形，它的 width 和 height 相等（绘制的是一个正方形），并且 rx 或 ry 的值大于或等于 width 或 height 的一半时，将会绘制一个圆形。
如果使用 <rect> 绘制的矩形，它的 width 和 height 不相等（绘制的是一个长方形），并且 rx 或 ry 的值大于或等于 width 或 height 时，将会绘制一个椭圆形。

在 SVG 中，矩形元素（<rect>）中的 x 和 y 属性可以是负值，但是 width 和 height 属性的值不能是负值。如果其中任何一个维度的计算值为0，则不会呈现该元素。

对于具有圆角的矩形，rx 和 ry 属性的计算值定义了圆角矩形角落（矩形的四个角）的椭圆弧的 x 和 y 轴的半径。椭圆弧始终沿水平和垂直轴对称；如果要创建具有不同大小圆角的矩形，需要使用路径元素（<path>）来定义。

此外，如果 rx 和 ry 中的任何一个维度的计算值为 0，或者两个维度的计算值都为 auto，将导致矩形没有圆角。x 和 y 轴圆角半径的使用值可以隐含地由另一个维度（使用auto）确定，并且也受到约束，以确保矩形的直线段长度永远不会为负。

rx 和 ry 的使用值由以下步骤按顺序确定：
1. 如果 rx 和 ry 均具有 auto 的计算值，它们的使用值将都为 0，这将导致矩形的四个角都是直角。
2. 否则，按照以下方式将指定的值转换为绝对值：
- 如果rx 设置为长度值或百分比，但 ry 为 auto，则计算等效于 rx 的绝对长度，百分比相对于矩形的宽度计算；ry的绝对值相同。
- 如果ry设置为长度值或百分比，但rx为auto，则计算等效于ry的绝对长度，百分比相对于矩形的高度计算；rx的绝对值相同。
- 如果rx和ry均设置为长度或百分比，将分别生成绝对值，将rx百分比相对于矩形宽度计算，将ry百分比相对于矩形高度计算。
3. 最后，应用约束生成使用值：
- 如果绝对值 rx 大于使用宽度的一半，则 rx 的使用值为使用宽度的一半。
- 如果绝对值 ry 大于使用高度的一半，则 ry 的使用值为使用高度的一半。
4. 否则，rx 和 ry 的使用值为先前计算的绝对值。

## 椭圆和圆

在 SVG 中，可以使用 <ellipse> 元素来绘制一个椭圆，由椭圆中心的坐标（cx 和 cy）以及两个半径（rx 和 ry ）定义：

```xml
<svg viewBox="0 0 800 600">
    <ellipse cx="200" cy="100" rx="150" ry="80" fill="#DB7092" stroke="#B82E5A" stroke-width="10" />
</svg>

```
椭圆中心 cx 和 cy 属性可以是一个负值，但椭圆的半径 rx 和 ry 的值不能是负值。
 rx 和 ry 任一维度的计算值为 0 ，或者对于两个维度的计算值为 auto ，则 <ellipse> 元素不会被渲染。对于 rx 或 ry 的 auto 值会转换为一个使用过的值，遵循上述矩形的规则（但不会基于宽度或高度做限制）。实际上，auto 值会创建一个圆形，其半径仅过一个维的值来定义；这允许创建一个半径根据以下之一的值来定义的圆：
 - 相对于坐标系宽度的百分比；即 rx 的百分比值和 ry 的 auto 值。
 - 相对于坐标系高度的百分比；即 rx 的 auto 值和 ry 的百分比值。

 椭圆的 rx 和 ry 具有相等的值时，<ellipse> 就会绘制出一个圆形, 不过，SVG 中有一个专门绘制圆形的元素 <circle> 。
 ```xml
 <svg viewBox="0 0 800 600">
    <circle cx="400" cy="300" r="150" fill="#DB7092" stroke="#B82E5A" stroke-width="10" />
</svg>
 ```
属性包括 r 代表圆的半径，cx 和 cy 代表圆的中心，其中 cx 代表圆的水平中心，cy 代表圆的垂直中心。

## 直线
直线通过两点就能绘制出一条简单的直线 。在 SVG 中，我们可以使用 <line> 元素绘制直线。它有四个必需的属性：
- x1 和 y1 确定点 A （起点）坐标，其中 x1 用于指定起点的水平位置，y1 用于指定起点的垂直位置
- x2 和 y2 确定点 B （终点）坐标，其中 x2 用于指定终点的水平位置，y2 用于指定终点的垂直位置
```xml
<svg  viewBox="0 0 800 600">
    <line x1="100" y1="150" x2="450" y2="500"  stroke="#B82E5A" stroke-width="10" />
</svg>

```
## 折线
折线是一系列相连的直线段。在 SVG 中，可以通过使用 <polyline> 元素来绘制折线。 <polyline> 元素使用 points 属性进行控制，该属性是一个包含所有折线点坐标的列表。每个点由其水平位置 x 和垂直位置 y 定义。
```xml
<svg  viewBox="0 0 800 600">
    <polyline points="0,0 300,300 50,400 500, 600" stroke="#B82E5A" stroke-width="10" fill="none" />
</svg>

```
注意，points 属性中每个点的 x 和 y 之间使用逗号分隔，相邻两个点之间有空格符进行分隔。每个点的坐标值（x 或 y）可以是负值。

## 多边形
<polygon> 元素是 SVG 中绘制图形的基本图形元素，它可以绘制由多段直线构成的闭合形状，例如星形或六边形。你也可以将其视为闭合的折线。<polygon> 元素的语法实际上与 <polyline> 相同，也是通过 points 属性进行控制。它与折线（<polyline>）主要区别在于，在 <polygon> 中，列表中的最后个点始终与第一个点连接，以形成一个闭合的形状
```xml
<svg  viewBox="0 0 800 600">
    <polygon points="0,0 300,300 50,400 500, 600" stroke="#B82E5A" stroke-width="10" fill="#70DB8E" />
</svg>
```

**注意：** SVG 的 <polygon> 元素可以用于任何多边形，无论是规则的还是不规则的创作。只不过，在使用 <polygon> 绘制一些图形时（例如星形，正多边形等），需要一些数学计算。

# SVG 路径

<path> 是 SVG 中最灵活的元素。它可以用于绘制任何可能的线条和形状，包括但不限于上面列出的所有基本形状。事实上，每个基本形状（<rect> 、<ellipse> 、<line> 、<polyline> 和 <polygon> ）都可以使用 <path> 来绘制。此外，有许多形状可以使用 <path> 创建，但无法使用其他任何 SVG 元素创建。

SVG 的 <path> 元素是用于绘制任何形状的通用元素，它的 d 属性是一堆数字和字母拼接在一起形成的路径数据。以下是一个 <path> 绘制的心形图形：

```xml
<svg viewBox="0 0 502 502" class="heart">
      <path 
          d="
              M 140,20
              C 73,20 20,74 20,140
              c 0,135 136,170 228,303
              c 88,-132 229,-173 229,-303
              c 0,-66 -54,-120 -120,-120
              c -48,0 -90,28 -109,69
              c -19,-41 -60,-69 -108,-69
              Z" 
          stroke="#B82E5A" 
          stroke-width="10" 
          fill="#70DB8E" />
</svg>

```
d 属性中有很多字母和数字，例如 M 、C 、c 和 Z 等，还有一些数字，例如 140,20 。这些字母表示的是命令，数字是传递给这些命令的值。所有逗号都是可选的（它们可以是空格）。

以上面示例来说：

- M 140,20 ：拿起笔并将其移动到 { x: 140, y: 20 } 位置。暂时不要绘制任何东西，只是移动笔的位置。这样，如果其他命令要绘制图形，它现在就从这个位置开始。
- C 73,20 20,74 20,140 ：放下笔并从当前点绘制贝塞尔曲线到新点 { x: 20, y: 140 } ；起始控制点是 { x: 73, y: 20 }，结束控制点是 { x: 20, y: 74 }
- c 0,135 136,170 228,303 ：从当前点绘制贝塞尔曲线到新点 { x: 上一个点 + 228, y: 上一个点 + 303 } ；起始控制点是 { x: 上一个点 + 0, y: 上一个点 + 135 }，结束控制点是 { x: 上一个点 + 136, y: 上一个点 + 170 }
- c 88,-132 229,-173 229,-303 ：从当前点绘制贝塞尔曲线到新点 { x: 上一个点 + 229, y: 上一个点 - 303 } ；起始控制点是 { x: 上一个点 + 88, y: 上一个点 - 132 }，结束控制点是 { x: 上一个点 + 229, y: 上一个点 - 173 }
- c 0,-66 -54,-120 -120,-120 ：从当前点绘制贝塞尔曲线到新点 { x: 上一个点 - 120, y: 上一个点 - 120 } ；起始控制点是 { x: 上一个点 + 0, y: 上一个点 - 66 }，结束控制点是 { x: 上一个点 - 54, y: 上一个点 - 120 }
- c -48,0 -90,28 -109,69 ：从当前点绘制贝塞尔曲线到新点 { x: 上一个点 - 109, y: 上一个点 + 69 } ；起始控制点是 { x: 上一个点 - 48, y: 上一个点 + 0 }，结束控制点是 { x: 上一个点 - 90, y: 上一个点 + 28 }
- c -19,-41 -60,-69 -108,-69 ：从当前点绘制贝塞尔曲线到新点 { x: 上一个点 - 108, y: 上一个点 - 69 } ；起始控制点是 { x: 上一个点 - 19, y: 上一个点 - 41 }，结束控制点是 { x: 上一个点 - 60, y: 上一个点 - 69 }
- Z ：直线返回到起点

它共有 18 个命令：
- M 或 m：将路径的起始点移动到指定的坐标位置。
- L 或 l：从当前点绘制一条直线到指定的坐标位置。
- H 或 h：从当前点水平绘制一条直线到指定的 x 坐标位置。
- V 或 v：从当前点垂直绘制一条直线到指定的 y 坐标位置。
- C 或 c：绘制一条三次贝塞尔曲线，使用两个控制点来确定曲线的形状。
- S 或 s：绘制一条平滑的三次贝塞尔曲线，只需要一个控制点，前一个控制点会被假设为上一条曲线的结束点的镜像。
- Q 或 q：绘制一条二次贝塞尔曲线，使用一个控制点来确定曲线的形状。
- T 或 t：绘制一条平滑的二次贝塞尔曲线，只需要一个控制点，前一个控制点会被假设为上一条曲线的结束点的镜像。
- A 或 a：绘制一条弧线，用于绘制椭圆的一部分。
- Z 或 z：闭合路径，从当前点绘制一条直线到路径的起始点，形成一个闭合的形状。

上面这个命令都是成对出现的，一个大写版本和一个小写版本，但这并不意味着路径的命令都是以成对方式存在。SVG 路径命令中的大写版本和小写版本之间的区别主要在于坐标值的解释方式：
- 大写版本（绝对坐标） ：大写命令表示路径坐标是绝对的，即相对于 SVG 视图的原点（左上角）来定义的。例如，大写命令 M 表示将路径的起始点移动到绝对坐标位置。
- 小写版本（相对坐标） ：小写命令表示路径坐标是相对于当前点的位置来定义的。换句话说，它们是相对于上一个点的坐标偏移量。例如，小写命令 m 表示将路径的起始点移动到相对坐标位置。

因此，大写命令会将路径的起始点重新设置到指定的绝对位置，而小写命令会将路径的起始点移动相对于当前点的指定偏移量。这些命令可以组合在一起，以描述复杂的路径形状，从简单的直线到曲线和弧线等各种形状都可以用这些命令来绘制。

# 图形元素的 DOM 接口

SVG 为图形元素提供了对应的 DOM 接口。通过 JavaScript 脚本，可以访问图形元素的 DOM 接口。

SVG 基本图形元素的 DOM 接口定义了用于操作这些图形的方法和属性。以下是 SVG 基本图形元素的 DOM 接口：

- SVGRectElement（矩形元素） ：用于创建矩形。可以通过指定位置（x、y）、宽度（width）、高度（height）以及圆角（rx 和 ry）来定义矩形的形状和样式。通过创建 <rect> 元素，并设置其属性来定义矩形的位置、大小和圆角属性。
- SVGCircleElement（圆形元素） ：用于创建圆形。可以通过指定圆心位置（cx、cy）和半径（r）来定义圆的形状和样式。通过创建 <circle> 元素，并设置其属性来定义圆的位置和半径。
- SVGEllipseElement（椭圆元素） ：用于创建椭圆。可以通过指定中心点位置（cx、cy）和两个轴的半径（rx 和 ry）来定义椭圆的形状和样式。通过创建 <ellipse> 元素，并设置其属性来定义椭圆的位置和轴的半径。
- SVGLineElement（直线元素） ：用于创建直线。可以通过指定起点（x1、y1）和终点（x2、y2）来定义直线的形状和样式。通过创建 <line> 元素，并设置其属性来定义直线的起点和终点。
- SVGPolygonElement（多边形元素） ：用于创建多边形。可以通过指定多个顶点的坐标（points）来定义多边形的形状和样式。通过创建 <polygon> 元素，并设置其属性来定义多边形的顶点坐标。
- SVGPolylineElement（折线元素） ：用于创建折线。与多边形类似，可以通过指定多个顶点的坐标（points）来定义折线的形状和样式。通过创建 <polyline> 元素，并设置其属性来定义折线的顶点坐标。

这些 DOM 接口提供了一种通过 JavaScript 操作 SVG 基本图形元素的方式，可以动态地创建、修改和删除这些元素，从而实现对 SVG 图形的动态渲染和交互。

以下是一个使用 SVG 基本图形元素 DOM 接口的示例，展示了如何通过 JavaScript 动态创建 SVG 图形：

```xml
<svg id="svg-container" width="400" height="200">
    <!-- SVG图形将在这里动态创建 -->
</svg>

```

```javascript
const svgEle = document.getElementById("svg-container");
// 创建矩形元素
const rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
rect.setAttribute("x", "50");
rect.setAttribute("y", "50");
rect.setAttribute("width", "100");
rect.setAttribute("height", "50");
rect.setAttribute("fill", "blue");
svgEle.appendChild(rect);

// 创建圆形元素
const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
circle.setAttribute("cx", "250");
circle.setAttribute("cy", "100");
circle.setAttribute("r", "30");
circle.setAttribute("fill", "green");
svgEle.appendChild(circle);

// 创建椭圆元素
const ellipse = document.createElementNS("http://www.w3.org/2000/svg", "ellipse");
ellipse.setAttribute("cx", "150");
ellipse.setAttribute("cy", "150");
ellipse.setAttribute("rx", "80");
ellipse.setAttribute("ry", "40");
ellipse.setAttribute("fill", "yellow");
svgEle.appendChild(ellipse);

// 创建直线元素
const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
line.setAttribute("x1", "200");
line.setAttribute("y1", "50");
line.setAttribute("x2", "300");
line.setAttribute("y2", "150");
line.setAttribute("stroke", "red");
line.setAttribute("stroke-width", "2");
svgEle.appendChild(line);

```