# 定义

SVG 是 Scalable Vector Graphics （可缩放矢量图形）的缩写。它是一种用于描述二维矢量图形的 XML 标记语言。与传统的基于像素的图像格式（如 JPEG、PNG 和 GIF 等）不同，SVG 使用数学描述图形，因此可以在不失真的情况下进行任意缩放。

- 基于 XML 的格式
- 可伸缩性
- 无像素限制： 传统图像格式受限于图像创建时存在的像素。SVG 则基于数学描述，不受此限制。它可以无限缩放，非常适合各种显示尺寸和分辨率。
- 数学表示： SVG 图形本质上是描述形状、路径和颜色的数学方程。这使得可以在不失去质量的情况下进行平滑缩放和操作。

# SVG 的发展历程

- 1999年，最初的讨论草案由W3C在1999年2月11日发布。
- 2001年，SVG 1.0正式成为W3C推荐标准。
- SVG 在 HTML5（2008年至今） ： 随着 HTML5 的发展，SVG 重新受到关注。HTML5 引入了对 SVG 的原生支持，使其成为 Web 开发中的重要组成部分。现代浏览器广泛支持内联 SVG，使开发人员能够直接在 HTML 文档中使用 SVG 代码
- SVG 2.0 的概念 （2010年后） ： 随着技术的不断发展， SVG 1.x 系列逐渐显露出一些局限性。因此，W3C 提出了 SVG 2.0的概念，旨在通过引入新特性、改进语言的可用性等方式，进一步推动 SVG 的发展。SVG 2.0 仍处于草案阶段，但显示了 W3C 对 SVG 未来的关注。

# SVG 的基本结构

- 根元素 <svg> ：SVG 文件的根元素是 <svg>，用于包裹所有的 SVG 内容，有点类似于 HTML 中的 <html> 元素。它可以包含用于设置 SVG 画布属性的命名空间和其他属性。
- 图形元素：SVG 支持多种图形元素，例如 <rect>（矩形）、 <circle>（圆形）、 <line>（直线）、 <path>（路径）等。这些元素用于创建各种形状，并可以通过设置属性来调整它们的大小、位置、颜色等。
- 文本元素 <text> ：使用 <text> 元素可以在 SVG 中添加文本。可以设置文本的位置、字体、大小等属性。
- 分组元素 <g> ：<g> 元素用于将多个图形元素组合在一起，形成一个组。这对于对组内的元素进行整体变换或样式设置很有用。
- 样式元素 <style> ：<style> 元素允许在 SVG 文件中嵌入样式，类似于 HTML 中的样式表。这使得可以使用 CSS 来定义 SVG 元素的外观。
- 属性：每个图形元素可以有一些属性，用于定义其外观和行为。例如，width 和 height 是矩形元素的属性，cx、cy 和 r 是圆形元素的属性。
- 其他元素和属性：除了上述元素外，SVG 还支持许多其他属性和元素，如 <line>、<polygon>、<ellipse>等。可以使用这些属性和元素创建更复杂的图形。

```xml
<svg width="200" height="200" xmlns="http://www.w3.org/2000/svg">
    <circle cx="100" cy="100" r="80" stroke-width="4" stroke="#f36" fill="#0cf" />
</svg>
```
# 优点

- 像素缩放
- 分辨率独立性：SVG 图形可以无限缩放，因此可以适应各种显示尺寸和分辨率。
- 可编程性和互动性：可以直接嵌入到 HTML 中，也可以通过 CSS 或 （和）JavaScript 进行操作
- SEO 友好：SVG 基于 XML 的特性为元数据提供了远远超越大多数图像类型提供的 title 和 alt 属性的机会。关键词、描述和链接都可以嵌入到 SVG 文件中，使内容更容易被搜索引擎识别，即它对搜索引擎友好的特性。
- 在可访问性方面同样具有多方面的优势：文本基础、元数据和描述、结构化图形、CSS 和 JavaScript互动、可嵌入性

# 缺点

- 复杂图像处理
- 文件大小： 尽管相对于位图图像，SVG 文件通常更小，但在某些情况下，它们可能比高度压缩的位图格式稍大。这可能在需要大量颜色或复杂图形的情况下成为问题。
- 复杂性和学习曲线： 对于初学者来说，理解和创建复杂的 SVG 可能需要一些时间。SVG 的标记语言可能对不熟悉 XML 的人来说具有一定的学习曲线。
- 不适合处理大量的实时数据： 如果需要处理大量实时生成的数据或像素级的图像，SVG 可能不是最佳选择。它更适用于静态或相对简单的图形。
- 浏览器兼容性： 尽管现代浏览器对 SVG 有很好的支持，但在一些旧版本的浏览器中可能存在兼容性问题。在这些情况下，需要考虑提供替代方案或进行降级处理。
- 动态图像： SVG 可以包含动画，但在处理复杂的动画效果时，可能会对性能产生影响。对于需要高度优化的动态内容，可能需要考虑其他技术，如Canvas或WebGL。
- 适用场景限制： SVG 适用于许多图形场景，但并非对所有类型的图像都是理想的选择。对于高度复杂或需要特定效果的图像，可能需要结合使用其他图像格式。

# SVG 与 Web 浏览器的兼容性

- [SVG兼容性](https://caniuse.com/svg)

SVG 部分子特性的浏览器兼容性的简要概述：

- SVG滤镜： Chrome、Firefox、Safari 和 Edge 等主流浏览器对 SVG 滤镜提供较好的支持，但在旧版本浏览器中可能存在一些差异。
- SVG 对 HTML 的效果（例如在 <div> 上应用 SVG 滤镜）： Chrome、Firefox、Safari 和 Edge 支持在 HTML 元素上应用 SVG 效果。
- SVG字体： SVG 字体在现代浏览器中得到广泛支持，但不同浏览器可能存在一些细微的差异。
- SVG片段标识符： 大多数主流浏览器支持SVG片段标识符的使用，但在一些旧版本浏览器和移动设备上可能存在局限。

# SVG 的应用领域

- ICON 图标的应用
- 数据可视化的应用
- 用户界面（UI）设计
- SVG 插画
- 文本效果的应用
- SVG 蒙板的应用
- SVG 动画的应用
- SVG 滤镜的应用
- 地图制图
- 矢量插画
- 图表制作
- 多媒体制作

# SVG 语法

SVG 使用 XML 语法，并定义了一系列标签来描述图形。SVG 图形由多个元素组成，这些元素可以是路径、形状、文本、图像、渐变、蒙版、滤镜等。

SVG 图形的基本结构如下：

```xml
<?xml version="1.0" encoding="UTF-8"?>
<svg width="100%" height="100%" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <!-- SVG 元素 -->
</svg>
```

- `width` 和 `height` 属性定义了 SVG 图形的宽度和高度。
- `viewBox` 属性定义了 SVG 图形的可视化区域。
- `xmlns` 属性定义了 SVG 文档的命名空间。

## 呈现形式
- 一个 SVG 文档可以是空的。即，在 <svg> 元素内没有任何内容，例如：

```xml
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="300" height="300" class="graph">
    <!-- 我是一个空的 SVG 文档 -->
</svg>

<style>
.graph {
    display: block;
    border: 1px dashed #fff;
}
</style>
```
- 一个非常简单的 SVG 文档
- 一个复杂、嵌套深度较深的元素和图形元素的集合。
- 一个 SVG 文档可以独立存在，作为一个自包含的文件或资源
- 可以作为一个片段内嵌在另一个 XML 文档中




# 命名空间(xmlns)

在 SVG 中，命名空间是一种机制。使用命名空间是为了解决在 XML 文档中的元素冲突问题，以及为了支持模块化、扩展性和跨平台的标准化。
## 使用命名空间的一些原因
- 避免命名冲突：SVG 元素和属性的命名可能与其他 XML 标准或用户定义的元素名称相冲突。通过使用命名空间，SVG 可以确保其元素和属性的名称在文档中不会与其他命名空间中的相同名称发生冲突，避免混淆和解析错误。
- 模块化设计：命名空间支持 SVG 的模块化设计，使得 SVG 规范可以被扩展和修改而不破坏现有标准。开发者能够定义和使用自己的 SVG 元素或属性，而不必担心与 SVG 规范中的元素发生冲突。
- 标准扩展：命名空间允许 SVG 标准进行扩展，从而支持新的特性和功能。通过在不同的命名空间中引入新的元素和属性，SVG 规范可以在不同版本之间演进，并为未来的发展提供灵活性。
- 互操作性：命名空间确保 SVG 文档在不同的上下文和应用程序中能够被正确解析和处理。它促使标准的互操作性，允许不同的软件和系统之间共享和交换 SVG 文档而不损失信息。
- XML 规范兼容性：SVG 作为 XML 的一种，使用命名空间是符合 XML 规范的。这有助于确保 SVG 文档可以与其他 XML 文档一起使用，并在 XML 处理工具中正确解析。
- 语义清晰：命名空间使 SVG 文档中的元素有明确的语义，开发者可以清晰地了解元素的来源和用途。有助于提高文档的可读性和维护性。

使用命名空间是**确保 SVG 文档正确解析和渲染**的关键。就这一点来说，个人建议你在编写 SVG 代码时，请务必给 <svg> 元素声明命名空间。

如果你的 SVG 文档嵌套在 HTML 中，那么 HTML 解析器会自动为 <svg> 元素提供命名空间，你无需显式声明。
```html
<html>
    <body>
        <svg width="100" height="100">
            <circle cx="50" cy="50" r="40" stroke="black" stroke-width="3" fill="red" />
        </svg>
    </body>
</html>

<!-- <svg> 元素会被自动置于正确的命名空间，无需手动添加 xmlns 属性。 -->

```

## xmlns:xlink

xmlns:xlink 是 SVG 中的一个命名空间声明，用于指定 XLink 命名空间（XML Linking Language）。XLink 是一种用于在 XML 文档中创建超链接的标准，它提供了在文档之间和文档内部创建链接的机制。

具体来说，xmlns:xlink 的作用是声明 xlink 命名空间，以便在 SVG 文档中使用 XLink 相关的属性，如 href，来定义超链接和链接行为。xmlns:xlink 帮助**定义 SVG 中与超链接相关的属性**，使得开发者可以在 SVG 文档中使用 XLink 标准来创建链接、引用外部资源等。这提供了在矢量图形中嵌入超链接的能力，使得 SVG 文档能够更灵活和交互性。

## 命名空间的前缀

在 <svg> 根元素上的 xmlns 属性通常不需要前缀，但在 XML 文档的其他位置，尤其是当文档中同时包含多个命名空间时，可能需要使用前缀。这样可以明确指定某个元素属于哪个命名空间。

```html
<svg:svg xmlns:svg="http://www.w3.org/2000/svg" width="100" height="100">
    <svg:circle cx="50" cy="50" r="40" fill="red" />
</svg:svg>
```


# svg元素

SVG 元素是构成 SVG 图形的基本单元。它们可以创建各种形状、文本、图像和动画，使你能够在 Web 页面上呈现出丰富而灵活的图形内容。从简单的矩形到复杂的路径，SVG 元素提供了丰富的选择，使你能够以无损失的方式调整图形的大小。

SVG 中包括多种不同类型的 SVG 元素：大致分为基本形状元素、路径元素、文本元素、容器元素（文本结构元素）、动画元素等，每个分类都有其独特的用途和特性。

SVG 元素分类体系理解SVG元素的用途和功能：
[svg元素](./imgs/svg元素.awebp)

上图中的很多元素又可以划分为“可渲染元素”（会在 SVG 画布中呈现）和“不可渲染元素”（在 SVG 画布中不会呈现）：  
[svg渲染分类](./imgs/svg渲染分类.awebp)

在 SVG 中，元素的堆叠顺序（显示顺序）是由它们在文档流中的位置和层次关系决定的。元素的渲染顺序取决于其在 DOM（文档对象模型）中的位置和父元素关系。通常，后面出现的元素会覆盖在前面出现的元素之上。

在 SVG 中，图层是通过元素的顺序来定义的。位于后面（出现在源码后面）的元素在图层中（Z 轴层又级）会显示在较前面（出现在源码前面）的元素之上。另外，到目前为止，我们是无法通过 CSS 的 z-index 属性来调整 SVG 元素的堆叠顺序[（据说在 SVG 2.0 中将会得到支持）](https://github.com/w3c/svgwg/wiki/SVG-2-new-features#new-style-properties)。

在实际使用中，具体的情况可能受到 SVG 元素类型、属性、CSS 样式的影响。因此，需要根据具体的 SVG 结构和样式来理解和控制元素的显示顺序。 [SVG 2.0 规范中的渲染模块中的渲染顺序](https://svgwg.org/svg-next/render.html#RenderingOrder)

# SVG 属性

SVG 和 HTML 还有一个共同的特征，那就是 SVG 元素也具有多种属性，这些属性用于定义元素的外观、行为和其他特征。以下是一些常见的 [SVG 元素属性](https://www.w3.org/TR/SVG/attindex.html)，具体属性的可用性和效果可能取决于元素类型和上下文。

SVG元素属性URL：https://www.w3.org/TR/SVG/attindex.html

SVG 属性可分为：通用属性和特定元素属性两类。通用属性适用于所有 SVG 元素，而特定元素属性则用于特定的 SVG 元素。


